import { Wall, Floor, NewGrid} from '../blocks/Wall.js'



export const m1 = [
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|-----------f----------------fff-----------------------------------------------------------------------------------------|',
  '|----p------------g------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  '|------------------------------------------------------------------------------------------------------------------------|',
  'ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff',
]

export const mapas = { m1 }

export function genearateMap( mapa ) {
  const walls = []
  let playerPos = {x: 0, y: 0};
  let enemysPos = []
  mapa.forEach((line, indexLine) => {
    for (let indexColum = 0; indexColum < line.length; indexColum +=1 ){
      const letter = line[indexColum]
      switch (letter) {
        case '|':
          walls.push(new Wall(NewGrid(indexColum, indexLine)))
          break;
        case 'f':
          walls.push(new Floor(NewGrid(indexColum, indexLine)))
          break;
        case 'p':
          playerPos = NewGrid(indexColum,indexLine);
          break;
        case 'g':
          enemysPos.push({...NewGrid(indexColum,indexLine), type: 'goomba'});
          break;
        default:
          //air block
          break;
      }
    }
  })
  return { walls , playerPos, enemysPos }
}
